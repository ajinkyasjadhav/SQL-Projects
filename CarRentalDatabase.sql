-- MySQL dump 10.13  Distrib 8.0.28, for macos11 (x86_64)
--
-- Host: localhost    Database: CarRentalDatabase
-- ------------------------------------------------------
-- Server version	8.0.28

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `BILLING_DETAILS`
--

DROP TABLE IF EXISTS `BILLING_DETAILS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `BILLING_DETAILS` (
  `BILL_ID` char(6) NOT NULL,
  `BILL_DATE` date NOT NULL,
  `BILL_STATUS` tinyint(1) NOT NULL,
  `TOTAL_AMOUNT` decimal(10,2) NOT NULL,
  `DISCOUNT_AMOUNT` decimal(10,2) NOT NULL,
  `TAX_AMOUNT` decimal(10,2) NOT NULL,
  `RESERVATION_ID` int DEFAULT NULL,
  `RENTAL_COMPANY_ID` int NOT NULL,
  `TOTAL_LATE_FEE` decimal(10,2) NOT NULL,
  PRIMARY KEY (`BILL_ID`),
  KEY `BILLINGFK1` (`RESERVATION_ID`),
  KEY `BILLINGFK2` (`RENTAL_COMPANY_ID`),
  CONSTRAINT `BILLINGFK1` FOREIGN KEY (`RESERVATION_ID`) REFERENCES `RESERVATION` (`RESERVATION_ID`),
  CONSTRAINT `BILLINGFK2` FOREIGN KEY (`RENTAL_COMPANY_ID`) REFERENCES `RENTAL_COMPANIES` (`RENTAL_COMPANY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `BILLING_DETAILS`
--

LOCK TABLES `BILLING_DETAILS` WRITE;
/*!40000 ALTER TABLE `BILLING_DETAILS` DISABLE KEYS */;
/*!40000 ALTER TABLE `BILLING_DETAILS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CAR_CATEGORY`
--

DROP TABLE IF EXISTS `CAR_CATEGORY`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `CAR_CATEGORY` (
  `CATEGORYID` int NOT NULL,
  `CATEGORY` varchar(25) NOT NULL,
  `NO_OF_SEATS` int NOT NULL,
  `COST_PER_DAY` decimal(5,2) NOT NULL,
  `LATE_FEE_PER_HOUR` decimal(5,2) NOT NULL,
  `RENTAL_COMPANY_ID` int NOT NULL,
  PRIMARY KEY (`CATEGORYID`),
  KEY `CATEGORYFK` (`RENTAL_COMPANY_ID`),
  CONSTRAINT `CATEGORYFK` FOREIGN KEY (`RENTAL_COMPANY_ID`) REFERENCES `RENTAL_COMPANIES` (`RENTAL_COMPANY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CAR_CATEGORY`
--

LOCK TABLES `CAR_CATEGORY` WRITE;
/*!40000 ALTER TABLE `CAR_CATEGORY` DISABLE KEYS */;
INSERT INTO `CAR_CATEGORY` VALUES (1,'Sedan',5,25.00,0.90,101),(2,'Hatchback',5,22.00,0.50,201),(3,'Convertible',2,45.00,1.00,301),(4,'Compact SUV',5,35.00,1.14,102),(5,'Mini Van',8,30.00,1.20,202),(6,'Luxury',5,75.00,3.00,302),(7,'Full Size Pickup Truck',5,50.00,2.25,102),(8,'Mid Size Pickup Truck',5,40.00,1.20,302),(9,'Full Size SUV',8,50.00,1.80,301);
/*!40000 ALTER TABLE `CAR_CATEGORY` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CAR_DETAILS`
--

DROP TABLE IF EXISTS `CAR_DETAILS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `CAR_DETAILS` (
  `REGISTRATION_NUMBER` char(7) NOT NULL,
  `CAR_MODEL` varchar(25) NOT NULL,
  `CAR_MAKE` varchar(25) NOT NULL,
  `MODEL_YEAR` int NOT NULL,
  `MILEAGE` int NOT NULL,
  `CATEGORYID` int NOT NULL,
  `TRANSMISSION` varchar(25) NOT NULL,
  `AVAILABILITY_FLAG` tinyint(1) NOT NULL,
  `RENTAL_COMPANY_ID` int NOT NULL,
  PRIMARY KEY (`REGISTRATION_NUMBER`),
  KEY `CAR_DETAILSFK` (`CATEGORYID`),
  KEY `CAR_DETAILSFK1` (`RENTAL_COMPANY_ID`),
  CONSTRAINT `CAR_DETAILSFK` FOREIGN KEY (`CATEGORYID`) REFERENCES `CAR_CATEGORY` (`CATEGORYID`),
  CONSTRAINT `CAR_DETAILSFK1` FOREIGN KEY (`RENTAL_COMPANY_ID`) REFERENCES `RENTAL_COMPANIES` (`RENTAL_COMPANY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CAR_DETAILS`
--

LOCK TABLES `CAR_DETAILS` WRITE;
/*!40000 ALTER TABLE `CAR_DETAILS` DISABLE KEYS */;
INSERT INTO `CAR_DETAILS` VALUES ('ABX1234','CIVIC','HONDA',2019,10000,1,'AUTOMATIC',0,101),('ASD9090','KICKS','NISSAN',2021,1090,4,'AUTOMATIC',0,301),('BHJ3998','ALTIMA','NISSAN',2017,5000,1,'AUTOMATIC',0,301),('BJK5620','KICKS','NISSAN',2021,1090,4,'AUTOMATIC',0,302),('BJK8078','911 TARGA','PORSCHE',2021,1090,3,'AUTOMATIC',1,101),('BUI4391','CHARGER','DODGE',2020,15000,1,'AUTOMATIC',1,302),('BUO6772','TUCSON','HYUNDAI',2017,50090,4,'AUTOMATIC',1,202),('CCF4065','GOLF','VOLKSWAGEN',2016,1000,2,'AUTOMATIC',1,301),('CXZ2356','GV 70','GENESIS',2020,2656,4,'AUTOMATIC',1,302),('DFC7955','RIO','KIA',2015,13000,2,'AUTOMATIC',1,201),('DFG7248',' MX-5 MIATA RF','MAZDA',2020,2656,3,'AUTOMATIC',1,301),('EFB5427','CANYON','GMC',2020,910656,8,'AUTOMATIC',1,301),('FDH4294','ESCALADE','CADILLAC',2022,25090,9,'AUTOMATIC',1,102),('FKD8202','A7','AUDI',2020,15656,2,'AUTOMATIC',1,301),('FYU6332','A7','AUDI',2020,15656,2,'AUTOMATIC',1,201),('GLS7625','RIO','KIA',2015,13000,2,'AUTOMATIC',1,201),('GLZ2376','COROLLA','TOYOTA',2018,5000,1,'MANUAL',1,201),('GUI4832','ODYSSEY','HONDA',2019,210656,5,'AUTOMATIC',1,302),('HBN7140','GV 70','GENESIS',2020,2656,4,'AUTOMATIC',1,302),('HGF5628','G70','GENESIS',2022,10090,6,'AUTOMATIC',1,201),('HIO5025','RANGER','FORD',2019,705090,8,'MANUAL',0,101),('HJK1234','GOLF','VOLKSWAGEN',2016,1000,2,'AUTOMATIC',1,101),('HKL7105','SIERRA','GMC',2019,810656,7,'AUTOMATIC',1,101),('HNX1890','STINGER','KIA',2017,50090,2,'AUTOMATIC',1,302),('HUI5457','MODEL 3','TESLA',2020,510656,6,'AUTOMATIC',1,101),('JDK4448','CIVIC','HONDA',2019,10000,1,'AUTOMATIC',0,101),('JLI5012','CANYON','GMC',2020,910656,8,'AUTOMATIC',1,201),('JOP5006','TITAN','NISSAN',2020,100090,7,'AUTOMATIC',1,201),('JOP5118','LAND CRUISER','TOYOTA',2021,125090,9,'AUTOMATIC',1,201),('LKJ7253','MODEL 3','TESLA',2020,510656,6,'AUTOMATIC',1,302),('MNB8654','SIERRA','GMC',2019,810656,7,'AUTOMATIC',1,101),('OTY7293','911 TARGA','PORSCHE',2021,1090,3,'AUTOMATIC',1,102),('PLM9873','RANGER','FORD',2019,705090,8,'MANUAL',0,202),('POI7281','TITAN','NISSAN',2020,100090,7,'AUTOMATIC',1,102),('QSC8709','LAND CRUISER','TOYOTA',2021,125090,9,'AUTOMATIC',1,202),('QWE4562','TUCSON','HYUNDAI',2017,50090,4,'AUTOMATIC',1,301),('SDD4567','GV 70','GENESIS',2020,2656,4,'AUTOMATIC',1,302),('SDF4567','CHARGER','DODGE',2020,15000,1,'AUTOMATIC',1,102),('SDF5589','KICKS','NISSAN',2021,1090,4,'AUTOMATIC',0,101),('SDF6719','GLADIATOR','JEEP',2018,105090,8,'MANUAL',0,201),('SDL9356',' MX-5 MIATA RF','MAZDA',2020,2656,3,'AUTOMATIC',1,201),('TGB8961','ESCALADE','CADILLAC',2022,25090,9,'AUTOMATIC',1,301),('TRE9726','PACIFICA','CHRYSLER',2016,35090,5,'AUTOMATIC',1,302),('TTJ6068','COROLLA','TOYOTA',2018,5000,1,'MANUAL',1,202),('UHV9786','F150 RAPTOR','FORD',2018,705090,7,'AUTOMATIC',0,201),('UIO5259','F150 RAPTOR','FORD',2018,705090,7,'AUTOMATIC',0,102),('UIO6734','CANYON','GMC',2020,910656,8,'AUTOMATIC',1,302),('UIO6735','A7','AUDI',2020,15656,2,'AUTOMATIC',1,101),('UIO6736','RIO','KIA',2015,13000,2,'AUTOMATIC',1,101),('UIO6737','COROLLA','TOYOTA',2018,5000,1,'MANUAL',1,101),('UIO6738','G70','GENESIS',2022,10090,6,'AUTOMATIC',1,201),('UIO6739','GOLF','VOLKSWAGEN',2016,1000,2,'AUTOMATIC',1,201),('UIO6740','STINGER','KIA',2017,50090,2,'AUTOMATIC',1,102),('UIO6741','MODEL 3','TESLA',2020,510656,6,'AUTOMATIC',1,102),('UIO6742','SIERRA','GMC',2019,810656,7,'AUTOMATIC',1,301),('UIO6743','911 TARGA','PORSCHE',2021,1090,3,'AUTOMATIC',1,302),('UIO6744','RANGER','FORD',2019,705090,8,'MANUAL',0,302),('UIO6745','TITAN','NISSAN',2020,100090,7,'AUTOMATIC',1,101),('UYT3981','ODYSSEY','HONDA',2019,210656,5,'AUTOMATIC',1,201),('VBN6283','RC 350','LEXUS',2015,45090,6,'AUTOMATIC',0,202),('VGH7589','CIVIC','HONDA',2019,10000,1,'AUTOMATIC',0,302),('VHJ6118','STINGER','KIA',2017,50090,2,'AUTOMATIC',1,302),('VYU4243','PACIFICA','CHRYSLER',2016,35090,5,'AUTOMATIC',1,102),('WDV2458','GLADIATOR','JEEP',2018,105090,8,'MANUAL',0,102),('WDV6150','VERSA','NISSAN',2021,12356,1,'MANUAL',1,201),('WER3245','VERSA','NISSAN',2021,12356,1,'MANUAL',1,101),('XFU5397','G70','GENESIS',2022,10090,6,'AUTOMATIC',1,202),('YUI3882','RC 350','LEXUS',2015,45090,6,'AUTOMATIC',0,201),('ZKM2680','ALTIMA','NISSAN',2017,5000,1,'AUTOMATIC',0,302);
/*!40000 ALTER TABLE `CAR_DETAILS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CAR_MAINTENANCE`
--

DROP TABLE IF EXISTS `CAR_MAINTENANCE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `CAR_MAINTENANCE` (
  `RESERVATION_ID` int DEFAULT NULL,
  `REGISTRATION_NUMBER` varchar(7) NOT NULL,
  `ROUTINE_MAINTANANCE` char(4) NOT NULL,
  `SIMPLE_REPAIR` char(4) NOT NULL,
  `OUTSOURCE` char(4) NOT NULL,
  `RENTAL_COMPANY_ID` int NOT NULL,
  KEY `MAINTAINFK1` (`RESERVATION_ID`),
  KEY `MAINTAINFK2` (`REGISTRATION_NUMBER`),
  KEY `MAINTAINFK3` (`RENTAL_COMPANY_ID`),
  CONSTRAINT `MAINTAINFK1` FOREIGN KEY (`RESERVATION_ID`) REFERENCES `RESERVATION` (`RESERVATION_ID`),
  CONSTRAINT `MAINTAINFK2` FOREIGN KEY (`REGISTRATION_NUMBER`) REFERENCES `CAR_DETAILS` (`REGISTRATION_NUMBER`),
  CONSTRAINT `MAINTAINFK3` FOREIGN KEY (`RENTAL_COMPANY_ID`) REFERENCES `RENTAL_COMPANIES` (`RENTAL_COMPANY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CAR_MAINTENANCE`
--

LOCK TABLES `CAR_MAINTENANCE` WRITE;
/*!40000 ALTER TABLE `CAR_MAINTENANCE` DISABLE KEYS */;
INSERT INTO `CAR_MAINTENANCE` VALUES (100,'ABX1234','YES','YES','NO',101),(102,'SDF4567','NO','YES','YES',101),(109,'DFC7955','YES','YES','YES',201);
/*!40000 ALTER TABLE `CAR_MAINTENANCE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CAR_RETURN`
--

DROP TABLE IF EXISTS `CAR_RETURN`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `CAR_RETURN` (
  `RESERVATION_ID` int NOT NULL,
  `REGISTRATION_NUMBER` varchar(7) NOT NULL,
  `DATE_TIME_ACTUAL_RETURN` datetime NOT NULL,
  `INSPECTION_STATUS` char(4) NOT NULL,
  `CLEAN` char(4) NOT NULL,
  `MAINTENANCE` char(4) NOT NULL,
  `RENTAL_COMPANY_ID` int NOT NULL,
  KEY `RETURNFK1` (`RESERVATION_ID`),
  KEY `RETURNFK2` (`RENTAL_COMPANY_ID`),
  CONSTRAINT `RETURNFK1` FOREIGN KEY (`RESERVATION_ID`) REFERENCES `RESERVATION` (`RESERVATION_ID`),
  CONSTRAINT `RETURNFK2` FOREIGN KEY (`RENTAL_COMPANY_ID`) REFERENCES `RENTAL_COMPANIES` (`RENTAL_COMPANY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CAR_RETURN`
--

LOCK TABLES `CAR_RETURN` WRITE;
/*!40000 ALTER TABLE `CAR_RETURN` DISABLE KEYS */;
INSERT INTO `CAR_RETURN` VALUES (100,'ABX1234','2022-01-13 00:00:00','YES','YES','YES',101),(101,'SDF4567','2021-09-16 00:00:00','NO','NO','NO',101),(102,'DFC7955','2022-04-23 00:00:00','YES','YES','YES',102);
/*!40000 ALTER TABLE `CAR_RETURN` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `CAR_RETURN_AFTER_INSERT` AFTER INSERT ON `car_return` FOR EACH ROW BEGIN
IF NEW.DATE_TIME_ACTUAL_RETURN is not null THEN
	IF NEW.INSPECTION_STATUS = 'YES' and NEW.CLEAN = 'YES' and NEW.MAINTENANCE = 'NO' then 
		UPDATE CAR_DETAILS 
        SET AVAILABILITY_FLAG = 1  WHERE REGISTRATION_NUMBER = NEW.REGISTRATION_NUMBER;
	ELSE 
		UPDATE CAR_DETAILS 
        SET AVAILABILITY_FLAG = 0  WHERE REGISTRATION_NUMBER = NEW.REGISTRATION_NUMBER;
	END IF;
END IF;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `CUSTOMER_DETAILS`
--

DROP TABLE IF EXISTS `CUSTOMER_DETAILS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `CUSTOMER_DETAILS` (
  `DL_NUMBER` varchar(8) NOT NULL,
  `FNAME` varchar(25) NOT NULL,
  `LNAME` varchar(25) NOT NULL,
  `STREET` varchar(60) NOT NULL,
  `CITY` varchar(20) NOT NULL,
  `STATE` char(2) NOT NULL,
  `ZIPCODE` decimal(5,0) NOT NULL,
  `EMAIL_ID` varchar(30) NOT NULL,
  `PHONE_NUMBER` decimal(10,0) NOT NULL,
  `DOB` date DEFAULT NULL,
  `MEMBERSHIP_TYPE` char(1) DEFAULT 'N',
  `MEMBERSHIP_ID` char(5) DEFAULT NULL,
  `RENTAL_COMPANY_ID` int DEFAULT NULL,
  PRIMARY KEY (`DL_NUMBER`),
  KEY `CUSTOMERFK` (`RENTAL_COMPANY_ID`),
  CONSTRAINT `CUSTOMERFK` FOREIGN KEY (`RENTAL_COMPANY_ID`) REFERENCES `RENTAL_COMPANIES` (`RENTAL_COMPANY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CUSTOMER_DETAILS`
--

LOCK TABLES `CUSTOMER_DETAILS` WRITE;
/*!40000 ALTER TABLE `CUSTOMER_DETAILS` DISABLE KEYS */;
INSERT INTO `CUSTOMER_DETAILS` VALUES ('10003422','John','Bran','3100 Northside Cecil Dr Apt 7','Richardson','TX',75080,'jbran@gmail.com',4692374055,'1997-05-28','Y','12358',101),('10003476','Peter','Brian','3000 UT Dallas Fats Dr Apt 563','Allen','TX',75080,'j4253_fqh@gmail.com',4692780934,'2002-05-28','N','48354',302),('10003478','Sheldon','Dsilva','3100 Northside BIngo Dr Apt 2436','Richardson','TX',75080,'ghwie12324@gmail.com',4653674055,'1998-05-28','Y','23789',301),('10005422','Jhon','lee','4613 Palm Bean Dr Apt 246','Richardson','TX',75084,'afewg@gmail.com',4692789055,'1995-05-28','Y','36558',102),('10010106','Sara','Fisher','788 Nusho Dr','Plano','TX',75024,'Sara_Fisher@gmail',2149957939,'1992-03-18',NULL,NULL,NULL),('10010266','Maddox','Green','2802 Amberwood Ln','Richardson','TX',75080,'Maddox_Green@gmail',2149794763,'1987-03-18','N','52858',101),('10010489','Bob','Clark ','4788 15th St','Allen','TX',75042,'Bob_Clark @gmail',2149589510,'1991-03-22','N','68452',302),('10010658','Max','Galler','23 McMillen St','Plano','TX',75345,'Max_Galler@gmail',2149711415,'1997-01-24',NULL,NULL,NULL),('10010691','Carlos','Perez','8273 County Club Rd','Plano','TX',75024,'Carlos_Perez@gmail',2149795519,'1992-03-18','Y','30293',101),('10010904','Katy ','Lyn','1108 Brett St','Richardson','TX',75080,'Katy _Lyn@gmail',2149903532,'1992-03-18','Y','52410',201),('10010921','Luis','Sullivan ','222 Talia Rd','Richardson','TX',75080,'Luis_Sullivan @gmail',2149390401,'2001-07-15','N','67846',301),('10011141','Scott','Lee','1106 Lovers Ln','Frisco','TX',75046,'Scott_Lee@gmail',2149592500,'1992-03-18','N','41281',301),('10011335','Kaiden','Ramiz','4812 Stonebriar St','Plano','TX',75678,'Kaiden_Ramiz@gmail',2149823666,'1992-03-18','N','80515',101),('10011569','Jude','Perry ','460 Shadyhill Dr ','Richardson','TX',75345,'Jude_Perry @gmail',2149630923,'1992-03-18','Y','57913',202),('10011726','Ivan ','Shalby ','849 Bluebonnet Rd','Frisco','TX',75046,'Ivan _Shalby @gmail',2149846219,'1992-07-18',NULL,NULL,NULL),('10011968','Graham','Poshka ','283 Rudy Dr','Allen','TX',75080,'Graham_Poshka @gmail',2149923863,'2000-03-03','N','61236',302),('10012051','Gavin','Nelson','341 Arabian Ln','Plano','TX',75024,'Gavin_Nelson@gmail',2149520000,'1976-07-18','Y','60783',101),('10012136','Atlas','Griffin','67 Hawthorne St ','Frisco','TX',75024,'Atlas_Griffin@gmail',2149889413,'1992-05-15','Y','35537',302),('10012242','Arthur','Hill','1307 Chestnut Rd','Richardson','TX',75080,'Arthur_Hill@gmail',2149967115,'1972-03-15','Y','31155',202),('10013075','Adriel ','King','8321 Lonestar St ','Richardson','TX',75080,'Adriel _King@gmail',2149614165,'1992-03-18','Y','28484',201),('10013172','Cole','Jordan','66 Holly St','Richardson','TX',75080,'Cole_Jordan@gmail',2149589136,'1993-05-05','Y','41200',201),('10013183','Camden','Davis','37 Alison Rd','Frisco','TX',75024,'Camden_Davis@gmail',2149813116,'1992-03-18',NULL,NULL,NULL),('10013334','Calvin','Murphy ','333 Sheffield Dr','Allen','TX',75042,'Calvin_Murphy @gmail',2149963187,'1992-03-18','N','54363',202),('10013540','Melinda','Walker','566 Campell Dr','Richardson','TX',75345,'Melinda_Walker@gmail',2149891952,'1992-03-18',NULL,NULL,NULL),('10013557','Jayce','Robinson ','124 Dover Dr','Frisco','TX',75046,'Jayce_Robinson @gmail',2149640993,'1992-03-18',NULL,NULL,NULL),('10013670','Bentley','White','1247 N Jackson Dr','Richardson','TX',75080,'Bentley_White@gmail',2149776374,'1992-03-18',NULL,NULL,NULL),('10013706','Malachi','Prichett','88 Little Creek St','Allen','TX',75042,'Malachi_Prichett@gmail',2149570030,'1980-11-18','Y','61511',202),('10013883','Enzo','Wang','455 West Park St','Plano','TX',75345,'Enzo_Wang@gmail',2149933106,'1993-07-21','N','30484',102),('10013963','Zack','Barnes','78 Quail Run Rd ','Plano','TX',75678,'Zack_Barnes@gmail',2149964024,'1992-03-18',NULL,NULL,NULL),('10014167','Juan','Harris','2048 Meadow Ln','Frisco','TX',75024,'Juan_Harris@gmail',2149703360,'1992-03-18',NULL,NULL,NULL),('10014510','Emily ','Hughs ','1020 Batheny Dr','Plano','TX',75345,'Emily _Hughs @gmail',2149944765,'1995-03-12','N','46607',302),('10014615','Archer','Westbrook ','666 Windy Creek Dr ','Allen','TX',75080,'Archer_Westbrook @gmail',2149765501,'1992-03-18',NULL,NULL,NULL),('10014822','Ross','Lewis','80 Joanna Ln','Richardson','TX',75080,'Ross_Lewis@gmail',2149544048,'1990-09-18','N','56606',302),('10014901','Messiah','Baker','26 Cole St','Richardson','TX',75080,'Messiah_Baker@gmail',2149739595,'1973-03-02',NULL,NULL,NULL),('10014912','Dean','Carter','94 Dentwood Rd','Richardson','TX',75345,'Dean_Carter@gmail',2149419212,'1972-03-30','Y','65307',201),('10043622','Shawn','gareth','Free Road Made Dr Apt 4326','Plano','TX',75024,'qrwteew@gmail.com',463467845,'1993-03-18',NULL,NULL,NULL),('10044567','Brian','Free','5767 Marquis High Dr Apt 2464','Plano','TX',75345,'adjgew4545@gmail.com',4634895645,'1992-03-18','N','12357',302),('10045622','David','Gin','5788 Marquis Valley Dr Apt 17865','Plano','TX',75024,'adavingin@gmail.com',4634783445,'1992-03-18','Y','48354',102),('10045634','Jackson','Gothem ','278 Jukkar St Freeman Dr Apt 101','Plano','TX',75678,'adfuheiuf_345_vbaehk@gmail.com',4637893451,'1992-03-18','N','36558',101),('10045687','Elliot','Choy','3100 Northside BIngo Dr Apt 2436','Allen','TX',75042,'ejbiugewb_jubge_123@gmail.com',4678989445,'1978-03-18','N','23234',102),('10087422','Jofsn','Amaro','27 Courtyard Game Dr Apt 14658','Richardson','TX',75345,'jnwge_bwui@gmail.com',4692374578,'1965-05-28','N','23445',102),('10233422','Carl','Tompson ','13432 Frankford Mary Dr Apt 3367','Richardson','TX',75080,'gaew_sarg@gmail.com',9876374055,'1967-05-28','Y','48355',101),('10234422','Rahul','gomrt','3000 Southside aloysius Dr Apt 5','Frisco','TX',75044,'xbgnsrse@gmail.com',4678374055,'1992-05-28',NULL,NULL,NULL),('10453422','Prerana','Reddy','164 Silva Dr Apt 1071','Richardson','TX',75080,'FJWi_hewfb@gmail.com',4345374055,'1967-05-28','Y','23454',201),('10455622','Sheldon','Lobo','132 Migo Dr Apt 53101','Plano','TX',75024,'beui_feufi@gmail.com',4637897445,'1982-03-18','N','36559',101),('10676222','Bingo','Anar','12 Alok Dr Apt 7543','Frisco','TX',75046,'fjBFEUFB_jgnkewnge@gmail.com',9874543445,'1952-03-18','Y','23358',201);
/*!40000 ALTER TABLE `CUSTOMER_DETAILS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CUSTOMER_RATING`
--

DROP TABLE IF EXISTS `CUSTOMER_RATING`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `CUSTOMER_RATING` (
  `SL_NO` int NOT NULL AUTO_INCREMENT,
  `CUTOMER_RATING` varchar(25) DEFAULT NULL,
  `COMMENTS` varchar(100) DEFAULT NULL,
  `RESERVATION_ID` int DEFAULT NULL,
  `RENTAL_COMPANY_ID` int DEFAULT NULL,
  PRIMARY KEY (`SL_NO`),
  KEY `CUSTOMER_RATINGFK1` (`RESERVATION_ID`),
  KEY `CUSTOMER_RATINGFK2` (`RENTAL_COMPANY_ID`),
  CONSTRAINT `CUSTOMER_RATINGFK1` FOREIGN KEY (`RESERVATION_ID`) REFERENCES `RESERVATION` (`RESERVATION_ID`),
  CONSTRAINT `CUSTOMER_RATINGFK2` FOREIGN KEY (`RENTAL_COMPANY_ID`) REFERENCES `RENTAL_COMPANIES` (`RENTAL_COMPANY_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CUSTOMER_RATING`
--

LOCK TABLES `CUSTOMER_RATING` WRITE;
/*!40000 ALTER TABLE `CUSTOMER_RATING` DISABLE KEYS */;
INSERT INTO `CUSTOMER_RATING` VALUES (1,'BEST','Loved the car\'s performance',102,101),(2,'BEST','Amazing car',107,201),(3,'AVERAGE','Brakes were not in good condition',112,301),(4,'WORST','Car broke down in between, the service was pathetic',110,202),(5,'BEST','Excellent car, will definitely recommend my other friends',106,302);
/*!40000 ALTER TABLE `CUSTOMER_RATING` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `DISCOUNT_DETAILS`
--

DROP TABLE IF EXISTS `DISCOUNT_DETAILS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `DISCOUNT_DETAILS` (
  `DISCOUNT_CODE` char(4) NOT NULL,
  `DISCOUNT_NAME` varchar(25) NOT NULL,
  `START_DATE` date NOT NULL,
  `EXPIRY_DATE` date NOT NULL,
  `DISCOUNT_PERCENTAGE` decimal(4,2) NOT NULL,
  `RENTAL_COMPANY_ID` int NOT NULL,
  PRIMARY KEY (`DISCOUNT_CODE`),
  UNIQUE KEY `DISCOUNTSKÂ ` (`DISCOUNT_NAME`),
  KEY `DISCOUNTFK` (`RENTAL_COMPANY_ID`),
  CONSTRAINT `DISCOUNTFK` FOREIGN KEY (`RENTAL_COMPANY_ID`) REFERENCES `RENTAL_COMPANIES` (`RENTAL_COMPANY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `DISCOUNT_DETAILS`
--

LOCK TABLES `DISCOUNT_DETAILS` WRITE;
/*!40000 ALTER TABLE `DISCOUNT_DETAILS` DISABLE KEYS */;
INSERT INTO `DISCOUNT_DETAILS` VALUES ('D108','WEEKLY RENTALS102','2021-01-01','2022-05-07',25.00,102),('D109','WEEKLY RENTALS101','2021-01-02','2022-05-07',25.00,101),('D110','WEEKLY RENTALS202','2021-01-07','2022-05-07',25.00,202),('D111','WEEKLY RENTALS201','2021-01-08','2022-05-07',25.00,201),('D112','WEEKLY RENTALS302','2021-01-13','2022-05-07',25.00,302),('D113','WEEKLY RENTALS301','2021-01-14','2022-05-07',25.00,301),('D297','UPGRADE SPECIAL101','2021-01-03','2022-06-18',20.00,101),('D298','UPGRADE SPECIAL102','2021-01-04','2022-06-18',20.00,102),('D299','UPGRADE SPECIAL201','2021-01-09','2022-06-18',20.00,201),('D300','UPGRADE SPECIAL202','2021-01-10','2022-06-18',20.00,202),('D301','UPGRADE SPECIAL301','2021-01-15','2022-06-18',20.00,301),('D302','UPGRADE SPECIAL302','2021-01-16','2022-06-18',20.00,302),('D756','HOLIDAY SPECIAL101','2021-01-05','2022-05-30',10.00,101),('D757','HOLIDAY SPECIAL102','2021-01-06','2022-05-30',10.00,102),('D758','HOLIDAY SPECIAL201','2021-01-11','2022-05-30',10.00,201),('D759','HOLIDAY SPECIAL202','2021-01-12','2022-05-30',10.00,202),('D760','HOLIDAY SPECIAL301','2021-01-17','2022-05-30',10.00,301),('D761','HOLIDAY SPECIAL302','2021-01-18','2022-05-30',10.00,302);
/*!40000 ALTER TABLE `DISCOUNT_DETAILS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `EMPLOYEES`
--

DROP TABLE IF EXISTS `EMPLOYEES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `EMPLOYEES` (
  `EMPLOYEE_ID` varchar(20) NOT NULL,
  `EMPLOYEE_LAST` char(50) NOT NULL,
  `EMPLOYEE_FIRST` char(50) NOT NULL,
  `PHONE` bigint NOT NULL,
  `EMAIL` varchar(50) NOT NULL,
  `ADDRESS` varchar(50) NOT NULL,
  `CITY` char(20) NOT NULL,
  `STATE` char(2) NOT NULL,
  `GENDER` char(10) NOT NULL,
  `SALARY` decimal(12,6) NOT NULL,
  `RENTAL_COMPANY_ID` int NOT NULL,
  `MANAGER_ID` varchar(20) DEFAULT NULL,
  `ROLE_ID` int NOT NULL,
  `HIRE_DATE` date NOT NULL,
  `QUIT_DATE` date DEFAULT NULL,
  PRIMARY KEY (`EMPLOYEE_ID`),
  KEY `EMPFK1` (`RENTAL_COMPANY_ID`),
  KEY `EMPFK2` (`ROLE_ID`),
  CONSTRAINT `EMPFK1` FOREIGN KEY (`RENTAL_COMPANY_ID`) REFERENCES `RENTAL_COMPANIES` (`RENTAL_COMPANY_ID`),
  CONSTRAINT `EMPFK2` FOREIGN KEY (`ROLE_ID`) REFERENCES `ROLE_DESCRIPTION` (`ROLE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `EMPLOYEES`
--

LOCK TABLES `EMPLOYEES` WRITE;
/*!40000 ALTER TABLE `EMPLOYEES` DISABLE KEYS */;
INSERT INTO `EMPLOYEES` VALUES ('AB023456','Martinez','Lucas',9450234567,'martinez@gmail.com','10 11th street','Richardson','TX','M',5000.000000,101,'AB823456',121,'2020-07-04',NULL),('AB103456','Jackson','Oliver',9451934567,'jackson@gmail.com','19 11th street','Plano','TX','M',3000.000000,101,'AB023456',122,'2020-07-04',NULL),('AB113456','Hernandez','Mia',9451034567,'hernandez@gmail.com','11 11th street','Dallas','TX','F',3000.000000,101,'AB023456',123,'2020-07-04',NULL),('AB121456','Martin','Isabella',9451204567,'martin@gmail.com','20 11th street','Plano','TX','F',5000.000000,102,'AB923456',121,'2020-07-04','2021-06-18'),('AB123456','Smith','Olivia',9451234567,'smith@gmail.com','1 11th street','Dallas','TX','F',3000.000000,102,'AB121456',122,'2020-07-04',NULL),('AB133456','Lopez','Evelyn',9451134567,'lopez@gmail.com','12 11th street','Addison','TX','F',3000.000000,102,'AB121456',123,'2020-07-04',NULL),('AB143456','Gonzales','Harper',9451334567,'gonzales@gmail.com','13 11th street','Arlington','TX','F',5000.000000,201,NULL,121,'2020-07-04',NULL),('AB153456','Wilson','Benjamin',9451434567,'wilson@gmail.com','14 11th street','Arlington','TX','M',3000.000000,201,'AB143456',122,'2020-07-04',NULL),('AB163456','Anderson','Henry',9451534567,'anderson@gmail.com','15 11th street','Dallas','TX','M',3000.000000,201,'AB143456',123,'2020-07-04',NULL),('AB173456','Thomas','Sophia',9451634567,'thomas@gmail.com','16 11th street','Plano','TX','F',5000.000000,202,NULL,121,'2020-07-04','2021-06-18'),('AB183456','Taylor','Amelia',9451734567,'taylor@gmail.com','17 11th street','Arlington','TX','F',3000.000000,202,'AB173456',122,'2020-07-04',NULL),('AB193456','Moore','Alexander',9451834567,'moore@gmail.com','18 11th street','Dallas','TX','M',3000.000000,202,'AB173456',123,'2020-07-04',NULL),('AB223456','Johnson','Emma',9452234567,'johnson@gmail.com','2 11th street','Arlington','TX','F',5000.000000,301,NULL,121,'2020-07-04',NULL),('AB323456','Williams','Ava',9453234567,'williams@gmail.com','3 11th street','Dallas','TX','F',3000.000000,301,'AB223456',122,'2020-07-04',NULL),('AB423456','Brown','Elijah',9454234567,'brown@gmail.com','4 11th street','Southlake','TX','M',3000.000000,301,'AB223456',123,'2020-07-04',NULL),('AB523456','Jones','William',9455234567,'jones@gmail.com','5 11th street','Southlake','TX','M',5000.000000,302,NULL,121,'2020-07-04',NULL),('AB623456','Garcia','James',9456234567,'garcia@gmail.com','6 11th street','Southlake','TX','M',3000.000000,302,'AB523456',122,'2020-07-04',NULL),('AB723456','Miller','Charlotte',9457234567,'miller@gmail.com','7 11th street','Dallas','TX','F',3000.000000,302,'AB523456',123,'2020-07-04',NULL),('AB823456','Davis','Liam',9458234567,'davis@gmail.com','8 11th street','Richardson','TX','M',7000.000000,101,NULL,120,'2020-07-04','2021-06-18'),('AB923456','Rodriguez','Noah',9459234567,'rodriguez@gmail.com','9 11th street','Richardson','TX','M',7000.000000,102,NULL,120,'2020-07-04',NULL);
/*!40000 ALTER TABLE `EMPLOYEES` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `RENTAL_CAR_INSURANCE`
--

DROP TABLE IF EXISTS `RENTAL_CAR_INSURANCE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `RENTAL_CAR_INSURANCE` (
  `INSURANCE_CODE` varchar(10) NOT NULL,
  `INSURANCE_TYPE_NAME` varchar(50) NOT NULL,
  `COVERAGE_TYPE` varchar(200) NOT NULL,
  `COST_PER_DAY` decimal(4,2) NOT NULL,
  `RENTAL_COMPANY_ID` int NOT NULL,
  PRIMARY KEY (`INSURANCE_CODE`),
  KEY `INSURANCEFK` (`RENTAL_COMPANY_ID`),
  CONSTRAINT `INSURANCEFK` FOREIGN KEY (`RENTAL_COMPANY_ID`) REFERENCES `RENTAL_COMPANIES` (`RENTAL_COMPANY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `RENTAL_CAR_INSURANCE`
--

LOCK TABLES `RENTAL_CAR_INSURANCE` WRITE;
/*!40000 ALTER TABLE `RENTAL_CAR_INSURANCE` DISABLE KEYS */;
INSERT INTO `RENTAL_CAR_INSURANCE` VALUES ('CDW101','COLLISON DAMAGE WAIVER','Covers theft and total damage to the rental car',30.00,101),('CDW102','COLLISON DAMAGE WAIVER','Covers theft and total damage to the rental car',30.00,102),('CDW201','COLLISON DAMAGE WAIVER','Covers theft and total damage to the rental car',28.99,201),('CDW202','COLLISON DAMAGE WAIVER','Covers theft and total damage to the rental car',28.99,202),('CDW301','COLLISON DAMAGE WAIVER','Covers theft and total damage to the rental car',30.00,301),('CDW302','COLLISON DAMAGE WAIVER','Covers theft and total damage to the rental car',28.99,302),('LC101','LIABILITY COVERAGE','Covers other drivers\' property damage and injuries resulting from an accident you cause',17.00,101),('LC102','LIABILITY COVERAGE','Covers other drivers\' property damage and injuries resulting from an accident you cause',17.00,102),('LC201','LIABILITY COVERAGE','Covers other drivers\' property damage and injuries resulting from an accident you cause',19.00,201),('LC202','LIABILITY COVERAGE','Covers other drivers\' property damage and injuries resulting from an accident you cause',19.00,202),('LC301','LIABILITY COVERAGE','Covers other drivers\' property damage and injuries resulting from an accident you cause',17.00,301),('LC302','LIABILITY COVERAGE','Covers other drivers\' property damage and injuries resulting from an accident you cause',17.00,302),('PAI101','PERSONAL ACCIDENT INSURANCE','Covers medical bills for you and your passengers, regardless of who is at fault for an accident',13.00,101),('PAI102','PERSONAL ACCIDENT INSURANCE','Covers medical bills for you and your passengers, regardless of who is at fault for an accident',13.00,102),('PAI201','PERSONAL ACCIDENT INSURANCE','Covers medical bills for you and your passengers, regardless of who is at fault for an accident',7.00,201),('PAI202','PERSONAL ACCIDENT INSURANCE','Covers medical bills for you and your passengers, regardless of who is at fault for an accident',7.00,202),('PAI301','PERSONAL ACCIDENT INSURANCE','Covers medical bills for you and your passengers, regardless of who is at fault for an accident',13.00,301),('PAI302','PERSONAL ACCIDENT INSURANCE','Covers medical bills for you and your passengers, regardless of who is at fault for an accident',7.00,302);
/*!40000 ALTER TABLE `RENTAL_CAR_INSURANCE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `RENTAL_COMPANIES`
--

DROP TABLE IF EXISTS `RENTAL_COMPANIES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `RENTAL_COMPANIES` (
  `RENTAL_COMPANY_ID` int NOT NULL,
  `RENTAL_COMPANY_NAME` varchar(50) NOT NULL,
  `RENTAL_COMPANY_ADDRESS` varchar(50) NOT NULL,
  `RENTAL_COMPANY_BRANCH_LOCATION` char(20) NOT NULL,
  `RENTAL_COMPANY_CONTACT_NUMBER` varchar(10) NOT NULL,
  `RENTAL_COMPANY_EMAIL` varchar(50) NOT NULL,
  PRIMARY KEY (`RENTAL_COMPANY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `RENTAL_COMPANIES`
--

LOCK TABLES `RENTAL_COMPANIES` WRITE;
/*!40000 ALTER TABLE `RENTAL_COMPANIES` DISABLE KEYS */;
INSERT INTO `RENTAL_COMPANIES` VALUES (101,'HOWDY CAR RENTAL','555 WATERVIEW LANE, RICHARDSON','RICHARDSON','5674564444','howdycarrentalrichardson@gmail.com'),(102,'HOWDY CAR RENTAL','423 FRED LANE, SOUTHLAKE','SOUTHLAKE','5674564443','howdycarrentalsouthlake@gmail.com'),(201,'TEXAS RENTAL CARS','321 SANTA LANE, ADDISON','ADDISON','6766768881','texasrentaladdison@gmail.com'),(202,'TEXAS RENTAL CARS','451 FORD LANE,CARROLLTON','CARROLLTON','6766768882','texasrentalcarrollton@gmail.com'),(301,'LONE STAR CARS','899 SANTA LANE, ADDISON','ADDISON','2344449999','lonestaraddison@gmail.com'),(302,'LONE STAR CARS','600 FORD LANE,CARROLLTON','CARROLLTON','2344449998','lonestarcarrollton@gmail.com');
/*!40000 ALTER TABLE `RENTAL_COMPANIES` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `RESERVATION`
--

DROP TABLE IF EXISTS `RESERVATION`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `RESERVATION` (
  `RESERVATION_ID` int NOT NULL AUTO_INCREMENT,
  `DL_NUMBER` varchar(8) NOT NULL,
  `RENTAL_TIME` datetime NOT NULL,
  `RETURN_TIME` datetime NOT NULL,
  `RENTAL_LOCATION` varchar(50) NOT NULL,
  `DROPOFF_LOCATION` varchar(50) NOT NULL,
  `REGISTRATION_NUMBER` varchar(7) NOT NULL,
  `EMPLOYEE_ID` varchar(20) NOT NULL,
  `DISCOUNT_CODE` char(4) DEFAULT NULL,
  `INSURANCE_CODE` varchar(10) DEFAULT NULL,
  `RENTAL_COMPANY_ID` int NOT NULL,
  `AMOUNT` decimal(10,2) DEFAULT NULL,
  PRIMARY KEY (`RESERVATION_ID`),
  KEY `RESERVEFK1` (`DL_NUMBER`),
  KEY `RESERVEFK2` (`REGISTRATION_NUMBER`),
  KEY `RESERVEFK3` (`EMPLOYEE_ID`),
  KEY `RESERVEFK4` (`DISCOUNT_CODE`),
  KEY `RESERVEFK5` (`INSURANCE_CODE`),
  KEY `RESERVE` (`RENTAL_COMPANY_ID`),
  CONSTRAINT `RESERVE` FOREIGN KEY (`RENTAL_COMPANY_ID`) REFERENCES `RENTAL_COMPANIES` (`RENTAL_COMPANY_ID`),
  CONSTRAINT `RESERVEFK1` FOREIGN KEY (`DL_NUMBER`) REFERENCES `CUSTOMER_DETAILS` (`DL_NUMBER`),
  CONSTRAINT `RESERVEFK2` FOREIGN KEY (`REGISTRATION_NUMBER`) REFERENCES `CAR_DETAILS` (`REGISTRATION_NUMBER`),
  CONSTRAINT `RESERVEFK3` FOREIGN KEY (`EMPLOYEE_ID`) REFERENCES `EMPLOYEES` (`EMPLOYEE_ID`),
  CONSTRAINT `RESERVEFK4` FOREIGN KEY (`DISCOUNT_CODE`) REFERENCES `DISCOUNT_DETAILS` (`DISCOUNT_CODE`),
  CONSTRAINT `RESERVEFK5` FOREIGN KEY (`INSURANCE_CODE`) REFERENCES `RENTAL_CAR_INSURANCE` (`INSURANCE_CODE`)
) ENGINE=InnoDB AUTO_INCREMENT=151 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `RESERVATION`
--

LOCK TABLES `RESERVATION` WRITE;
/*!40000 ALTER TABLE `RESERVATION` DISABLE KEYS */;
INSERT INTO `RESERVATION` VALUES (100,'10003422','2021-08-08 00:00:00','2021-09-10 00:00:00','RICHARDSON','RICHARDSON','ABX1234','AB103456','D109','CDW101',101,250.00),(101,'10045622','2021-09-08 00:00:00','2021-09-16 00:00:00','RICHARDSON','RICHARDSON','SDF4567','AB103456','D109','CDW101',101,100.59),(102,'10005422','2021-09-10 00:00:00','2021-09-13 00:00:00','RICHARDSON','RICHARDSON','WER3245','AB103456','D109','CDW101',101,500.70),(103,'10043622','2021-06-09 00:00:00','2021-06-23 00:00:00','RICHARDSON','RICHARDSON','QSC8709','AB103456',NULL,'LC101',101,300.68),(104,'10234422','2021-10-08 00:00:00','2021-10-14 00:00:00','RICHARDSON','RICHARDSON','QSC8709','AB103456','D109','PAI101',101,800.90),(105,'10010266','2021-01-07 00:00:00','2021-01-14 00:00:00','RICHARDSON','RICHARDSON','SDF5589','AB103456','D109','CDW101',101,250.00),(106,'10012051','2021-01-08 00:00:00','2021-01-24 00:00:00','CARROLLTON','CARROLLTON','SDD4567','AB623456','D109','CDW302',302,550.00),(107,'10014901','2021-01-09 00:00:00','2021-01-13 00:00:00','ADDISON','ADDISON','JLI5012','AB153456','D299','CDW201',201,350.00),(108,'10011726','2021-01-10 00:00:00','2021-01-14 00:00:00','ADDISON','ADDISON','FYU6332','AB153456','D299','CDW201',201,250.00),(109,'10014912','2021-02-01 00:00:00','2021-02-06 00:00:00','ADDISON','ADDISON','DFC7955','AB153456','D299',NULL,201,250.00),(110,'10013706','2021-02-02 00:00:00','2021-02-10 00:00:00','CARROLLTON','CARROLLTON','TTJ6068','AB183456','D110','CDW202',202,250.00),(111,'10012242','2021-02-03 00:00:00','2021-02-07 00:00:00','CARROLLTON','CARROLLTON','XFU5397','AB183456','D110','CDW202',202,250.00),(112,'10010658','2021-02-04 00:00:00','2021-02-07 00:00:00','ADDISON','ADDISON','CCF4065','AB323456','D113',NULL,301,342.00),(113,'10011968','2021-03-13 00:00:00','2021-03-18 00:00:00','CARROLLTON','CARROLLTON','VHJ6118','AB623456','D112',NULL,302,250.00),(114,'10011335','2021-03-14 00:00:00','2021-03-18 00:00:00','RICHARDSON','RICHARDSON','HUI5457','AB103456','D109','LC101',101,750.00),(115,'10014167','2021-03-15 00:00:00','2021-03-20 00:00:00','RICHARDSON','RICHARDSON','HKL7105','AB103456','D109','LC101',101,250.00),(116,'10013670','2021-03-16 00:00:00','2021-03-21 00:00:00','RICHARDSON','RICHARDSON','BJK8078','AB103456','D109',NULL,101,250.00),(117,'10010691','2021-04-07 00:00:00','2021-04-21 00:00:00','RICHARDSON','RICHARDSON','HIO5025','AB103456','D109','LC101',101,432.00),(118,'10013075','2021-04-08 00:00:00','2021-04-10 00:00:00','ADDISON','ADDISON','JOP5006','AB153456',NULL,'LC201',201,250.00),(119,'10013557','2021-04-09 00:00:00','2021-04-15 00:00:00','ADDISON','ADDISON','JOP5118','AB153456',NULL,'LC201',201,250.00),(120,'10011569','2021-04-10 00:00:00','2021-04-14 00:00:00','CARROLLTON','CARROLLTON','BUO6772','AB183456','D110','LC202',202,433.00),(121,'10013334','2021-05-06 00:00:00','2021-05-08 00:00:00','CARROLLTON','CARROLLTON','BUI4391','AB623456',NULL,'LC302',302,250.00),(122,'10010921','2021-05-07 00:00:00','2021-05-10 00:00:00','ADDISON','ADDISON','DFG7248','AB323456',NULL,NULL,301,250.00),(123,'10013883','2021-05-08 00:00:00','2021-05-10 00:00:00','SOUTHLAKE','SOUTHLAKE','FDH4294','AB123456','D108','PAI102',102,343.00),(124,'10014615','2021-05-09 00:00:00','2021-05-12 00:00:00','SOUTHLAKE','SOUTHLAKE','VYU4243','AB123456','D108','PAI102',102,563.00),(125,'10013963','2021-05-10 00:00:00','2021-05-14 00:00:00','SOUTHLAKE','SOUTHLAKE','UIO5259','AB123456','D757','PAI102',102,250.00),(126,'10012136','2021-07-21 00:00:00','2021-07-23 00:00:00','CARROLLTON','CARROLLTON','GUI4832','AB623456',NULL,NULL,302,250.00),(127,'10013172','2021-07-22 00:00:00','2021-07-24 00:00:00','ADDISON','ADDISON','YUI3882','AB153456','D758','PAI201',201,345.00),(128,'10010106','2021-07-23 00:00:00','2021-07-25 00:00:00','ADDISON','ADDISON','SDF6719','AB153456','D758','PAI201',201,250.00),(129,'10010904','2021-09-10 00:00:00','2021-09-12 00:00:00','ADDISON','ADDISON','WDV6150','AB153456',NULL,NULL,201,250.00),(130,'10011141','2021-09-11 00:00:00','2021-09-13 00:00:00','ADDISON','ADDISON','BHJ3998','AB323456',NULL,NULL,301,456.00),(131,'10013540','2021-09-12 00:00:00','2021-09-14 00:00:00','CARROLLTON','CARROLLTON','VGH7589','AB623456',NULL,NULL,302,345.00),(132,'10010489','2021-09-13 00:00:00','2021-09-15 00:00:00','CARROLLTON','CARROLLTON','BJK5620','AB623456',NULL,NULL,302,250.00),(133,'10014822','2021-10-14 00:00:00','2021-10-16 00:00:00','CARROLLTON','CARROLLTON','HBN7140','AB623456','D301',NULL,302,653.00),(134,'10014510','2021-10-15 00:00:00','2021-10-18 00:00:00','CARROLLTON','CARROLLTON','UIO6734','AB623456','D302',NULL,302,250.00),(135,'10233422','2021-11-25 00:00:00','2021-11-29 00:00:00','RICHARDSON','RICHARDSON','UIO6736','AB103456','D756','CDW101',101,250.00),(136,'10455622','2021-11-26 00:00:00','2021-12-01 00:00:00','RICHARDSON','RICHARDSON','UIO6737','AB103456','D756','CDW101',101,250.00),(137,'10453422','2021-11-27 00:00:00','2021-12-02 00:00:00','ADDISON','ADDISON','UIO6738','AB153456','D758','CDW201',201,250.00),(138,'10676222','2021-11-28 00:00:00','2021-12-03 00:00:00','ADDISON','ADDISON','UIO6739','AB153456',NULL,'CDW201',201,250.00),(139,'10087422','2021-11-29 00:00:00','2021-12-04 00:00:00','SOUTHLAKE','SOUTHLAKE','UIO6740','AB123456','D108','CDW102',102,250.00),(140,'10045687','2021-11-30 00:00:00','2021-12-05 00:00:00','SOUTHLAKE','SOUTHLAKE','UIO6741','AB123456','D757','CDW102',102,250.00),(141,'10003478','2021-12-01 00:00:00','2021-12-07 00:00:00','ADDISON','ADDISON','UIO6742','AB323456',NULL,'PAI301',301,250.00),(142,'10044567','2021-12-02 00:00:00','2021-12-08 00:00:00','CARROLLTON','CARROLLTON','UIO6743','AB623456','D760','PAI302',302,250.00),(143,'10003476','2021-12-21 00:00:00','2022-01-05 00:00:00','CARROLLTON','CARROLLTON','UIO6744','AB623456','D760','PAI302',302,250.00),(144,'10045634','2021-12-22 00:00:00','2022-01-06 00:00:00','RICHARDSON','RICHARDSON','UIO6745','AB103456','D756','CDW101',101,250.00),(145,'10013183','2021-05-08 00:00:00','2021-05-14 00:00:00','SOUTHLAKE','SOUTHLAKE','UIO6741','AB123456','D108','PAI102',102,343.00),(146,'10013883','2021-07-08 00:00:00','2021-07-11 00:00:00','SOUTHLAKE','SOUTHLAKE','UIO6740','AB123456','D108','PAI102',102,563.00),(147,'10013883','2021-12-08 00:00:00','2021-12-16 00:00:00','SOUTHLAKE','SOUTHLAKE','FDH4294','AB123456','D108','PAI102',102,250.00),(148,'10013883','2022-01-08 00:00:00','2022-01-19 00:00:00','SOUTHLAKE','SOUTHLAKE','VYU4243','AB123456','D108','PAI102',102,250.00),(149,'10011726','2022-01-09 00:00:00','2022-01-20 00:00:00','CARROLLTON','CARROLLTON','XFU5397','AB153456','D759','PAI202',202,345.00),(150,'10011726','2022-02-09 00:00:00','2022-02-11 00:00:00','ADDISON','ADDISON','YUI3882','AB153456','D758','PAI201',201,250.00);
/*!40000 ALTER TABLE `RESERVATION` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ROLE_DESCRIPTION`
--

DROP TABLE IF EXISTS `ROLE_DESCRIPTION`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ROLE_DESCRIPTION` (
  `ROLE_ID` int NOT NULL,
  `ROLE` char(20) NOT NULL,
  `ROLE_DESCRIPTION` varchar(200) NOT NULL,
  PRIMARY KEY (`ROLE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ROLE_DESCRIPTION`
--

LOCK TABLES `ROLE_DESCRIPTION` WRITE;
/*!40000 ALTER TABLE `ROLE_DESCRIPTION` DISABLE KEYS */;
INSERT INTO `ROLE_DESCRIPTION` VALUES (120,'General Manager','Oversees all aspects of an automotive dealership\'s daily operations, including staffing, procedures, operational budget, and sales monitoring'),(121,'Assistant Manager','Assists in hiring, training, motivating, counseling, and monitoring the performance of employees'),(122,'Front Desk Personel','Provide customer service'),(123,'Porter','Responsible for moving and parking cars, valet for customer within 10 miles'),(124,'Maintenance Staff','Maintains vehicles\' functional condition by listening to operator complaints and conducting inspections.');
/*!40000 ALTER TABLE `ROLE_DESCRIPTION` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping routines for database 'CarRentalDatabase'
--
/*!50003 DROP FUNCTION IF EXISTS `CarStatus` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` FUNCTION `CarStatus`(Flag int) RETURNS char(30) CHARSET utf8mb4
    DETERMINISTIC
BEGIN
    declare message char(30);
    if flag = 1 then
		set message = 'Car is Available';
	else
		set message = 'Car is not Available';
    end if;    
	RETURN message;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `SeniorCitizenDiscount` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` FUNCTION `SeniorCitizenDiscount`(DOB Date,Amount numeric(10,2)) RETURNS int
    DETERMINISTIC
BEGIN
	declare Age int;
    declare discountAmt numeric(10,2);
	Set Age = date_format(curdate(),"%Y")-date_format(DOB,"%Y");
    if Age > '60' then
		set discountAmt = amount * 0.05;
	ELSE
		set discountAmt = 0;
	END IF;
    return discountAmt;
    
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `CALCULATE_DISCOUNT_AMOUNT` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `CALCULATE_DISCOUNT_AMOUNT`(IN dlNum VARCHAR(8),IN amount Decimal(10,2), IN discountCode CHAR(4),
out discountAmt numeric(10,2))
BEGIN

declare memberType CHAR(1);
declare discountPercentage NUMERIC(4,2);

SELECT 
    MEMBERSHIP_TYPE
INTO memberType FROM
    CUSTOMER_DETAILS
WHERE
    DL_NUMBER = dlNum ;

IF discountCode <> 'NULL' THEN
	SELECT DISCOUNT_PERCENTAGE INTO discountPercentage FROM DISCOUNT_DETAILS WHERE DISCOUNT_CODE = discountCode;

	IF memberType = 'Y' THEN
		set discountAmt = amount * ((discountPercentage+10)/100);
	ELSE
		set discountAmt = amount * (discountPercentage/100);
	END IF;
ELSE
	IF memberType = 'Y' THEN
		set discountAmt = amount * 0.1;
	ELSE
		set discountAmt = 0;
	END IF;
END IF;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `LATE_FEE_CALCULATION` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `LATE_FEE_CALCULATION`(In actualReturnTime DATETIME, IN returnTime DATETIME, IN regNum VARCHAR(7), 
										In amount Decimal(10,2), Out totalLateFee Numeric(10,2), out totalTax numeric(10,2), out finalAmount numeric(10,2))
BEGIN

Declare lateFeePerHour Numeric(5,2);
Declare hourDifference DECIMAL(10,2);

SELECT 
    LATE_FEE_PER_HOUR
INTO lateFeePerHour FROM
    CAR_CATEGORY CC
        INNER JOIN
    CAR_DETAILS C ON CC.CATEGORYID = C.CATEGORYID
WHERE
    C.REGISTRATION_NUMBER = regNum limit 1;

SELECT 
    RETURN_TIME, REGISTRATION_NUMBER, AMOUNT
INTO returnTime , regNum , amount FROM
    RESERVATION
WHERE
    REGISTRATION_NUMBER = regNum limit 1;
    
SELECT 
    DATE_TIME_ACTUAL_RETURN
INTO actualReturnTime FROM
    CAR_RETURN CR
        INNER JOIN
    RESERVATION R ON CR.RESERVATION_ID = R.RESERVATION_ID
WHERE
    R.REGISTRATION_NUMBER = regNum limit 1;


IF actualReturnTime > returnTime THEN

set hourDifference = datediff(actualReturnTime, returnTime)* 24;
set totalLateFee = hourDifference * lateFeePerHour;
ELSE
set totalLateFee = 0;
END IF;
set totalTax = (amount + totalLateFee)*0.0825;
set finalAmount = amount + totalLateFee + totalTax;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2022-05-12 20:59:22
